# Orchestrator Documentation

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—É –∏ —Å—É–±–∞–≥–µ–Ω—Ç–∞–º –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ IWSDK –∫–æ–¥–∞.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

```
orchestrator/
‚îú‚îÄ‚îÄ index.ts                      # –ë–∞–∑–æ–≤—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (–±–µ–∑ —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤)
‚îú‚îÄ‚îÄ orchestrator-with-agents.ts   # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å —Å—É–±–∞–≥–µ–Ω—Ç–∞–º–∏ (–Ω–æ–≤—ã–π)
‚îî‚îÄ‚îÄ README.md                     # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

agents/
‚îú‚îÄ‚îÄ code-generator.ts             # –°—É–±–∞–≥–µ–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞
‚îú‚îÄ‚îÄ code-editor.ts                # –°—É–±–∞–≥–µ–Ω—Ç –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
‚îú‚îÄ‚îÄ validator.ts                  # –°—É–±–∞–≥–µ–Ω—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞
‚îî‚îÄ‚îÄ index.ts                      # –≠–∫—Å–ø–æ—Ä—Ç –≤—Å–µ—Ö –∞–≥–µ–Ω—Ç–æ–≤
```

---

## –î–≤–∞ –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞

### 1. –ë–∞–∑–æ–≤—ã–π –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä (index.ts)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- –ü—Ä–æ—Å—Ç—ã–µ –∑–∞–¥–∞—á–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ë—ã—Å—Ç—Ä—ã–µ –ø—Ä–æ—Ç–æ—Ç–∏–ø—ã
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –∫–∞—á–µ—Å—Ç–≤—É –∫–æ–¥–∞

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- –û–¥–∏–Ω –∞–≥–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –≤—Å—ë
- –ü—Ä—è–º–∞—è —Ä–∞–±–æ—Ç–∞ —Å Anthropic SDK
- –ù–µ—Ç —Ä–∞–∑–¥–µ–ª–µ–Ω–∏—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏

**–ü—Ä–∏–º–µ—Ä:**
```typescript
import { orchestrate } from './orchestrator/index';

const result = await orchestrate({
  userMessage: '–°–æ–∑–¥–∞–π VR —Å—Ü–µ–Ω—É'
});
```

### 2. –û—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä —Å —Å—É–±–∞–≥–µ–Ω—Ç–∞–º–∏ (orchestrator-with-agents.ts)

**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:**
- Production –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- –°–ª–æ–∂–Ω—ã–µ –∑–∞–¥–∞—á–∏ —Ç—Ä–µ–±—É—é—â–∏–µ —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
- –ù–µ–æ–±—Ö–æ–¥–∏–º–∞ –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–æ–¥–∞
- –í–∞–∂–Ω–æ –∫–∞—á–µ—Å—Ç–≤–æ –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- 3 —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å—É–±–∞–≥–µ–Ω—Ç–∞
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è
- –ò–∑–æ–ª—è—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä:**
```typescript
import { orchestrateWithAgents } from './orchestrator/orchestrator-with-agents';

const result = await orchestrateWithAgents({
  userMessage: '–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Button —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π',
  enableValidation: true  // –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
});
```

---

## –°—É–±–∞–≥–µ–Ω—Ç—ã

### 1. Code Generator (code-generator)

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–¥–∞ —Å –Ω—É–ª—è

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- "–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç X"
- "–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π VR —Å—Ü–µ–Ω—É"
- "–ù–∞–ø–∏—à–∏ —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è Y"

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `read_file` - —á—Ç–µ–Ω–∏–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞
- `write_file` - –∑–∞–ø–∏—Å—å –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
- `generate_code` - AI-–≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∫–æ–¥–∞

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
User: "–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Button"
‚Üí Orchestrator ‚Üí code-generator ‚Üí —Å–æ–∑–¥–∞—ë—Ç Button.ts
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ú–æ–¥–µ–ª—å: `sonnet` (–±–∞–ª–∞–Ω—Å —Å–∫–æ—Ä–æ—Å—Ç–∏ –∏ –∫–∞—á–µ—Å—Ç–≤–∞)
- –ü—Ä–æ–º–ø—Ç: —Å–º. `agents/code-generator.ts`

---

### 2. Code Editor (code-editor)

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- "–î–æ–±–∞–≤—å –≤–∞–ª–∏–¥–∞—Ü–∏—é –≤ —Ñ—É–Ω–∫—Ü–∏—é X"
- "–ò—Å–ø—Ä–∞–≤—å –±–∞–≥ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ Y"
- "–û—Ç—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏ –∫–ª–∞—Å—Å Z"

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `read_file` - —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `edit_file` - —Ç–æ—á–µ—á–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª–∞—Ö
- `edit_code` - AI-—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
User: "–î–æ–±–∞–≤—å error handling –≤ auth.ts"
‚Üí Orchestrator ‚Üí code-editor ‚Üí —á–∏—Ç–∞–µ—Ç auth.ts ‚Üí —Ä–µ–¥–∞–∫—Ç–∏—Ä—É–µ—Ç ‚Üí —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ú–æ–¥–µ–ª—å: `sonnet` (–Ω—É–∂–Ω–∞ —Ç–æ—á–Ω–æ—Å—Ç—å)
- –ü—Ä–æ–º–ø—Ç: —Å–º. `agents/code-editor.ts`

---

### 3. Validator (validator)

**–°–ø–µ—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –∫–æ–¥–∞

**–ö–æ–≥–¥–∞ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:**
- –ü–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–æ–¥–∞ (–µ—Å–ª–∏ `enableValidation: true`)
- –ü–æ—Å–ª–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ (–µ—Å–ª–∏ `enableValidation: true`)
- –ü–æ –ø—Ä—è–º–æ–º—É –∑–∞–ø—Ä–æ—Å—É: "–ü—Ä–æ–≤–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–æ –∫–æ–¥–∞"

**–î–æ—Å—Ç—É–ø–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:**
- `read_file` - —á—Ç–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–¢–û–õ–¨–ö–û —á—Ç–µ–Ω–∏–µ!)

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç:**
- ‚úÖ TypeScript —Ç–∏–ø—ã
- ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (XSS, SQL injection, etc.)
- ‚úÖ –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- ‚úÖ Best practices
- ‚úÖ Code smells

**–ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
```typescript
// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏
User: "–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Button"
‚Üí code-generator ‚Üí —Å–æ–∑–¥–∞—ë—Ç Button.ts
‚Üí validator ‚Üí –ø—Ä–æ–≤–µ—Ä—è–µ—Ç ‚Üí –≤—ã–¥–∞—ë—Ç –æ—Ç—á—ë—Ç

// –ò–ª–∏ –Ω–∞–ø—Ä—è–º—É—é
User: "–ü—Ä–æ–≤–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–æ auth.ts"
‚Üí validator ‚Üí —á–∏—Ç–∞–µ—Ç auth.ts ‚Üí –≤—ã–¥–∞—ë—Ç –æ—Ç—á—ë—Ç
```

**–§–æ—Ä–º–∞—Ç –æ—Ç—á—ë—Ç–∞:**
```markdown
# Code Quality Report

## Summary
- Files reviewed: 1
- Issues found: 3
- Critical: 0
- High: 1
- Medium: 2

## High Priority Issues üü°
1. Missing error handling in login()
   Location: auth.ts:45
   Fix: Add try-catch block

## Medium Priority Issues üü†
1. Using 'any' type
2. Code duplication

## Passed Checks ‚úÖ
- No security vulnerabilities
- Good TypeScript coverage
```

**–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**
- –ú–æ–¥–µ–ª—å: `haiku` (–¥–µ—à–µ–≤–ª–µ, –ø—Ä–æ–≤–µ—Ä–∫–∞ ‚Äî –ø—Ä–æ—Å—Ç–∞—è –∑–∞–¥–∞—á–∞)
- –ü—Ä–æ–º–ø—Ç: —Å–º. `agents/validator.ts`

---

## –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  User Request                           ‚îÇ
‚îÇ  "–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Button —Å —Ç–µ—Å—Ç–∞–º–∏"    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                ‚îÇ
                v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Main Orchestrator                        ‚îÇ
‚îÇ  - –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å                     ‚îÇ
‚îÇ  - –û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –Ω—É–∂–Ω—ã—Ö —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤           ‚îÇ
‚îÇ  - –î–µ–ª–µ–≥–∏—Ä—É–µ—Ç –∑–∞–¥–∞—á–∏                      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
     ‚îÇ                          ‚îÇ
     v                          v
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê          ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ code-       ‚îÇ          ‚îÇ code-        ‚îÇ
‚îÇ generator   ‚îÇ          ‚îÇ generator    ‚îÇ
‚îÇ             ‚îÇ          ‚îÇ (tests)      ‚îÇ
‚îÇ –°–æ–∑–¥–∞—ë—Ç     ‚îÇ          ‚îÇ –°–æ–∑–¥–∞—ë—Ç      ‚îÇ
‚îÇ Button.ts   ‚îÇ          ‚îÇ tests.ts     ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
      ‚îÇ                         ‚îÇ
      ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               v
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ validator    ‚îÇ
        ‚îÇ              ‚îÇ
        ‚îÇ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç    ‚îÇ
        ‚îÇ –æ–±–∞ —Ñ–∞–π–ª–∞    ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
               ‚îÇ
               v
        ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
        ‚îÇ Orchestrator     ‚îÇ
        ‚îÇ –°–æ–±–∏—Ä–∞–µ—Ç         ‚îÇ
        ‚îÇ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã       ‚îÇ
        ‚îÇ –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç       ‚îÇ
        ‚îÇ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é     ‚îÇ
        ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞

```typescript
import { orchestrateWithAgents } from './orchestrator/orchestrator-with-agents';

const result = await orchestrateWithAgents({
  userMessage: '–°–æ–∑–¥–∞–π IWSDK –∫–æ–º–ø–æ–Ω–µ–Ω—Ç Button —Å –ø—Ä–æ–ø—Å–∞–º–∏ label, onClick –∏ disabled',
  enableValidation: true
});

console.log(result.response);
// ## Task: Component Button created
//
// ### Generated Files:
// - src/components/Button.ts
//
// ### Subagents Used:
// - code-generator: Created Button component with TypeScript types
// - validator: ‚úÖ No critical issues found
//
// ### Summary:
// Button component successfully created with proper TypeScript types
// and IWSDK integration.
```

### –ü—Ä–∏–º–µ—Ä 2: –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞

```typescript
const result = await orchestrateWithAgents({
  userMessage: '–î–æ–±–∞–≤—å error handling –≤ src/auth/login.ts',
  enableValidation: true
});

console.log(result.response);
// ## Task: Added error handling to login function
//
// ### Modified Files:
// - src/auth/login.ts (lines 23-45)
//
// ### Subagents Used:
// - code-editor: Added try-catch block and error logging
// - validator: ‚úÖ Improved from 7/10 to 9/10
//
// ### Changes:
// - Added try-catch wrapper
// - Added error logging
// - Added user-friendly error messages
```

### –ü—Ä–∏–º–µ—Ä 3: –¢–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–¥–∞

```typescript
const result = await orchestrateWithAgents({
  userMessage: '–ü—Ä–æ–≤–µ—Ä—å –∫–∞—á–µ—Å—Ç–≤–æ src/components/Button.ts',
  enableValidation: false  // –ù–µ –Ω—É–∂–Ω–∞, —Ç.–∫. —ç—Ç–æ —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∞
});

console.log(result.validationReport);
// # Code Quality Report
// ...
```

---

## API Reference

### orchestrateWithAgents()

```typescript
function orchestrateWithAgents(
  request: OrchestratorWithAgentsRequest
): Promise<OrchestratorWithAgentsResponse>
```

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

```typescript
interface OrchestratorWithAgentsRequest {
  /** –°–æ–æ–±—â–µ–Ω–∏–µ –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è */
  userMessage: string;

  /** –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –≤–∞–ª–∏–¥–∞—Ü–∏—é –ø–æ—Å–ª–µ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è */
  enableValidation?: boolean;  // default: false
}
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**

```typescript
interface OrchestratorWithAgentsResponse {
  /** –§–∏–Ω–∞–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é */
  response: string;

  /** –°–ø–∏—Å–æ–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤ */
  agentsUsed: string[];

  /** –û—Ç—á—ë—Ç –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ (–µ—Å–ª–∏ –±—ã–ª –≤—ã–∑–≤–∞–Ω) */
  validationReport?: string;
}
```

---

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å—É–±–∞–≥–µ–Ω—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `agents/my-agent.ts`:

```typescript
import type { AgentDefinition } from '@anthropic-ai/claude-agent-sdk';

export const myAgent: AgentDefinition = {
  description: 'Short description when to use this agent',

  prompt: `Detailed instructions for the agent...`,

  tools: ['read_file', 'my_custom_tool'],

  model: 'sonnet'  // or 'opus' or 'haiku'
};
```

2. –î–æ–±–∞–≤—å—Ç–µ –≤ `agents/index.ts`:

```typescript
import { myAgent } from './my-agent';

export const iwsdkAgents = {
  // ... —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –∞–≥–µ–Ω—Ç—ã
  'my-agent': myAgent,
};
```

3. –û–±–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ `orchestrator-with-agents.ts`:

```typescript
const systemPrompt = `...
Available Subagents:
...
### 4. my-agent
- **When to use**: [–æ–ø–∏—Å–∞–Ω–∏–µ]
- **Capabilities**: [–≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏]
...`;
```

4. –ì–æ—Ç–æ–≤–æ! –ê–≥–µ–Ω—Ç –±—É–¥–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ—Å—Ç—É–ø–µ–Ω –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ç–æ—Ä—É.

---

## Best Practices

### ‚úÖ –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—É–±–∞–≥–µ–Ω—Ç–æ–≤ –¥–ª—è production**
   ```typescript
   // ‚úÖ Good
   orchestrateWithAgents({ ... })

   // ‚ùå Bad for production
   orchestrate({ ... })
   ```

2. **–í–∫–ª—é—á–∞–π—Ç–µ –≤–∞–ª–∏–¥–∞—Ü–∏—é –¥–ª—è –≤–∞–∂–Ω–æ–≥–æ –∫–æ–¥–∞**
   ```typescript
   // ‚úÖ Good
   orchestrateWithAgents({
     userMessage: '...',
     enableValidation: true
   })
   ```

3. **–î–µ–ª–∞–π—Ç–µ –∞–≥–µ–Ω—Ç–æ–≤ —É–∑–∫–æ—Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏**
   ```typescript
   // ‚úÖ Good: –æ–¥–Ω–∞ –∑–∞–¥–∞—á–∞
   'validator': { tools: ['read_file'] }

   // ‚ùå Bad: —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–µ–π
   'validator': { tools: ['read_file', 'write_file', 'edit_file'] }
   ```

### ‚ùå –ù–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

1. **–ù–µ –¥–∞–≤–∞–π—Ç–µ validator –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å**
   ```typescript
   // ‚ùå Bad
   'validator': { tools: ['read_file', 'edit_file'] }
   ```

2. **–ù–µ –ø–∏—à–∏—Ç–µ —Å–ª–∏—à–∫–æ–º –¥–ª–∏–Ω–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã**
   - –î–µ—Ä–∂–∏—Ç–µ –ø—Ä–æ–º–ø—Ç—ã —Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º–∏
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏–º–µ—Ä—ã –≤–º–µ—Å—Ç–æ –¥–ª–∏–Ω–Ω—ã—Ö –æ–±—ä—è—Å–Ω–µ–Ω–∏–π

3. **–ù–µ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–æ—Ä–æ–≥–∏–µ –º–æ–¥–µ–ª–∏ –≥–¥–µ –Ω–µ –Ω—É–∂–Ω–æ**
   ```typescript
   // ‚úÖ Good: haiku –¥–ª—è –ø—Ä–æ—Å—Ç–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
   'validator': { model: 'haiku' }

   // ‚ùå Bad: opus —Å—Ç–æ–∏—Ç –¥–æ—Ä–æ–≥–æ
   'validator': { model: 'opus' }
   ```

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≥–µ–Ω—Ç –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ `description`

**–†–µ—à–µ–Ω–∏–µ:** –°–¥–µ–ª–∞–π—Ç–µ description –±–æ–ª–µ–µ —á—ë—Ç–∫–∏–º:
```typescript
// ‚ùå Bad
description: 'Agent for code'

// ‚úÖ Good
description: 'Generates NEW IWSDK code from scratch. Use when user wants to CREATE components.'
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ê–≥–µ–Ω—Ç –¥–µ–ª–∞–µ—Ç –Ω–µ —Ç–æ

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—è—Å–Ω—ã–π –ø—Ä–æ–º–ø—Ç –∏–ª–∏ —Å–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**–†–µ—à–µ–Ω–∏–µ:** –£—Ç–æ—á–Ω–∏—Ç–µ –ø—Ä–æ–º–ø—Ç –∏ –æ–≥—Ä–∞–Ω–∏—á—å—Ç–µ tools:
```typescript
tools: ['read_file', 'write_file'],  // –¢–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ
```

### –ü—Ä–æ–±–ª–µ–º–∞: –î–æ–ª–≥–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ

**–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è opus –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö –∑–∞–¥–∞—á

**–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ haiku –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏:
```typescript
model: 'haiku'  // –ë—ã—Å—Ç—Ä–µ–µ –∏ –¥–µ—à–µ–≤–ª–µ
```

---

## –î–∞–ª—å–Ω–µ–π—à–µ–µ —Ä–∞–∑–≤–∏—Ç–∏–µ

### –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **Test Runner Agent** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
2. **Documentation Agent** - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
3. **Performance Profiler Agent** - –∞–Ω–∞–ª–∏–∑ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
4. **Security Auditor Agent** - —É–≥–ª—É–±–ª—ë–Ω–Ω—ã–π security audit

### Roadmap

- [ ] –î–æ–±–∞–≤–∏—Ç—å streaming –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- [ ] –î–æ–±–∞–≤–∏—Ç—å session management –¥–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
- [ ] –î–æ–±–∞–≤–∏—Ç—å hooks –¥–ª—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- [ ] –î–æ–±–∞–≤–∏—Ç—å MCP —Å–µ—Ä–≤–µ—Ä—ã –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π

---

## –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏

- [Claude Agent SDK Docs](https://platform.claude.com/docs/en/agent-sdk/overview)
- [Subagents Guide](https://platform.claude.com/docs/en/agent-sdk/subagents)
- [IWSDK Documentation](https://your-iwsdk-docs.com)
